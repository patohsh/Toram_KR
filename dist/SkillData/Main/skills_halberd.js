// skills_halberd.js

const halberdTree = {
    id: "halberd",
    name: "할버드 스킬",
    url_param: "Halberd",
    description: "선창(할버드)을 주무기로 하는 스킬입니다. 마법창 매커니즘과 고화력 스킬을 보유하고 있습니다. (데이터 갱신: 20240922)",
    skills: [
        // ==================================================
        // 1차 스킬
        // ==================================================
        {
            id: "flash_stab",
            name: "플래시 스텝",
            tier: 1,
            type: "Active",
            mp_cost: 100,
            element: "Neutral",
            weapon: ["한손검", "할버드"],
            description: `
        [액티브 / 한손검, 할버드 사용가능]
        관성: 물리 / 어택기반
        
        • 계수: 1 + 스킬렙×0.05 + 0.05×레지레벨
        • 스킬상수: 50 + 스킬렙×5
        • 발도공X
        • 이 스킬은 자체 행동속도 50% 이다.
        • (레지 최대렙: 20)
      `
        },
        {
            id: "halberd_mastery",
            name: "할버드 마스터리",
            tier: 1,
            type: "Passive",
            mp_cost: 0,
            element: "Neutral",
            weapon: ["할버드"],
            description: `
        [패시브 / 할버드 사용가능]
        효과: 스킬렙×3의 무기공% 상승
        효과: 1렙 어택1%, 3렙 어택2%, 8렙 어택3%
      `
        },
        {
            id: "quick_aura",
            name: "퀵 오라",
            tier: 1,
            type: "Active",
            mp_cost: 0, // HP 소모
            element: "Neutral",
            weapon: ["모든무기"],
            description: `
        [버프기 / 모든무기 사용가능]
        자신의 MaxHP를 15% 소모한다. (할버드 -5%)
        지속시간: 180초 (할버드 +120초)
        
        효과: 스킬렙×50의 공격속도
        효과: 스킬렙×2.5의 공격속도%
      `
        },
        {
            id: "cannon_spear",
            name: "캐논 스피어",
            tier: 1,
            type: "Active",
            mp_cost: 100,
            element: "Neutral",
            weapon: ["한손검", "할버드"],
            description: `
        [액티브 / 한손검, 할버드 사용가능]
        관성: 물리 / 어택기반
        
        [휘두르기]
        • 계수: 0.4 + 스킬렙/10
        • 스킬상수: 100 + 스킬렙×10
        • 발도공X
        
        [투창]
        • 계수: 1.5 + 스킬렙×10
        • 범위: 반경2M, 직선[소숫점내림(-1/2)+8]M
        • (10×레지레벨)%의 확률로 대상에게 기죽음 부여
        • (레지 최대렙: 10)
      `
        },
        {
            id: "deadly_spear",
            name: "데들리 스피어",
            tier: 1,
            type: "Active",
            mp_cost: 100,
            element: "Neutral",
            weapon: ["한손검", "할버드"],
            description: `
        [액티브 / 한손검, 할버드 사용가능]
        차지: 1.5 - [소숫점내림((스킬렙+1)/3)×0.5]
        
        • 계수: 1.05 + [최소1적용(스킬렙-1)×5] (할버드 +0.2)
        • 스킬상수: 80 + 스킬렙×3
        
        [효과]
        - 스킬 자체 크리티컬률 +50% (할버드 +250%)
        - 스킬 자체 물리관통 [10 + 소숫점내림((스킬렙-1)/3)×5]
        - 다음에 사용할 스킬의 MP소모 반감
      `
        },

        // ==================================================
        // 2차 스킬
        // ==================================================
        {
            id: "dragon_tail",
            name: "드래곤 테일",
            tier: 2,
            type: "Active",
            mp_cost: 300,
            element: "Neutral",
            weapon: ["할버드"],
            description: `
        [액티브 / 할버드 사용가능]
        
        [휘두르기 1]
        • 계수: 0.7 + 스킬렙×0.3 / 상수: 100
        • 범위: 플레이어 중심 반경 2M+[(스킬렙/6)×0.5]M
        • 모션중에 데미지 50% 감소 [1회]
        
        [휘두르기 2]
        • 계수: 2 + 스킬렙×0.2 + 0.05×스킬렙
        • 스킬상수: 50 + 스킬렙×15
        • 범위: 플레이어 중심 반경 3.5M + [소숫점내림((스킬렙-1)/3)×0.5]M
        • 적중 시 [10×스킬렙]%의 확률로 넘어짐 부여 (보스 불가능)
        • (레지 최대렙: 20)
      `
        },
        {
            id: "punish_ray",
            name: "베니싱 레이", // (Punish Ray / Vanishing Ray)
            tier: 2,
            type: "Active",
            mp_cost: 0,
            element: "Neutral",
            weapon: ["한손검", "할버드"],
            description: `
        [버프스킬 / 한손검, 할버드 사용가능]
        사거리: 12M / 차지: 2초
        관성: 마법 / 마택기반
        
        • 계수: 0.25 + 스킬렙^2 + 총INT/400
        • 계수(할버드): (0.25×스킬렙^2)×2 + 총INT/200
        
        [효과]
        - 사용 시 3스택 버프를 얻고, 다음에 사용할 스킬의 크리티컬률을 상승시킨다.
        - 1번째 스킬 크율 / 10×스킬렙 (할버드=15×스킬렙)
        - 2번째 스킬 크율 / 5×스킬렙 (할버드=10×스킬렙)
        - 3번째 스킬 크율 / 2.5×스킬렙 (할버드=5×스킬렙)
      `
        },
        {
            id: "war_cry_of_struggle",
            name: "역경의 사자후",
            tier: 2,
            type: "Active",
            mp_cost: 100,
            element: "Neutral",
            weapon: ["모든무기"],
            description: `
        [액티브 / 모든무기 사용가능]
        차지: 5초 - [소숫점내림((스킬렙-1)/3)]초 (할버드 -1초)
        
        - 충전 후 120MP 회복 (현재 자신의 HP 상태에 따른다)
        
        [추가 회복량]
        - HP 85% 미만: 2×스킬렙+
        - HP 70% 미만: 4×스킬렙+
        - HP 55% 미만: 12×스킬렙
        
        - 이 스킬 사용 시 30×레지레벨의 어그로를 발생시킨다.
        - (레지 최대렙: 10)
      `
        },

        // ==================================================
        // 3차 스킬
        // ==================================================
        {
            id: "dive_impact",
            name: "다이브 임팩트",
            tier: 3,
            type: "Active",
            mp_cost: 400,
            element: "Neutral",
            weapon: ["할버드"],
            description: `
        [액티브 / 할버드 사용가능]
        관성: 물리 / 어택기반
        
        [내려찍기]
        • 계수: 200 + 20×스킬렙 + 총STR/250
        • 스킬상수: 200 + 20×스킬렙
        • 범위: 플레이어 중심 반경[소숫점내림((스킬렙+2)/4)+2]M
        • 공중에 있는 상태라면 무적 (1초)
        
        [폭발 (4초 후)]
        • 계수: 200 + 20×스킬렙 + 총INT/100
        • 범위: 시전위치 반경[소숫점내림((스킬렙+2)/4)+4]M
        • 10×스킬렙의 확률로 섬광부여
        
        - 이 스킬은 단일 공격이 된다. (레지스트렛 적용 시)
        - 레지레벨×2초 만큼 ???의 저항시간을 단축시킨다.
        - (레지 최대렙: 5)
      `
        },
        {
            id: "strike_stab",
            name: "스트라이크 스텝",
            tier: 3,
            type: "Active",
            mp_cost: 200,
            element: "Neutral",
            weapon: ["할버드", "한손검"],
            description: `
        [액티브 / 할버드, 한손검 사용가능]
        관성: 물리 / 어택기반
        
        [강화X]
        • 계수: [1.9 + 스킬렙×0.01 + 총STR/500] × 3타
        • 스킬상수: 100 × 3타 (할버드 +100)
        • 크리티컬률 패널티: [-50 + 2.5×스킬렙]% (한손검)
        • 크리티컬률 패널티: [5×스킬렙]% (할버드)
        
        [강화 (디버프 상태 시)]
        • 계수(한손검): [1.9 + 0.11×스킬렙 + 총STR/500] × 3타
        • 계수(할버드): [1.9 + 0.21×스킬렙 + 총STR/500] × 3타
        • 스킬상수: 100 × 3타 (할버드 +100)
      `
        },
        {
            id: "critical_spear",
            name: "회심의 일격",
            tier: 3,
            type: "Passive",
            mp_cost: 0,
            element: "Neutral",
            weapon: ["할버드"],
            description: `
        [패시브 / 할버드 사용가능]
        효과: 크리티컬률 [스킬렙×0.5] 상승
        효과: 크리티컬 데미지 [스킬렙×0.5]% 상승
      `
        },
        {
            id: "buster_lance",
            name: "버스터 랜스",
            tier: 3,
            type: "Active",
            mp_cost: 100,
            element: "Neutral",
            weapon: ["할버드"],
            description: `
        [액티브 / 할버드 사용가능]
        베니싱레이의 효과가 있다면 강화됩니다.
        
        [버스터 랜스]
        • 계수: 5 + 0.1 - (100 - 5×스킬렙)/100 (목표와의 거리 - 6) + 총STR/200 + 총AGI/200
        • 위력: O (원거리 위력만)
        
        [강화 버스터 랜스]
        • 계수: 5 + 스킬렙×0.1 - (60 - 스킬렙×4)/100 + 0.1×레지레벨
        • 어느 거리에서든 원거리 위력 적용
        • 특이사항: 강화한 버스터랜스는 마법관성
        • 사용 시 베니싱레이 스택을 3으로 다시 회복시킨다.
        - (레지 최대렙: 10)
      `
        },
        {
            id: "blitz_spike",
            name: "블리츠 파이크",
            tier: 3,
            type: "Active",
            mp_cost: 300,
            element: "Neutral",
            weapon: ["할버드"],
            description: `
        [액티브 / 할버드 사용가능]
        0~7M 근접모드: 2회 공격 후 마비 성공 시 추가타
        8M 이상 원격모드: 대상이 7M 안에 온다면 발사
        
        [근접모드]
        • 2타 (어택기반, 마법관성): 3 + 0.1×스킬렙 + 툴 해머lv×0.1
        • 추가타 (마법창 마택기반): 1 + 0.3×스킬렙 + 툴 해머lv×0.1 + 기본INT/200
        • 추가타는 반드시 크리티컬 히트
        
        [원격모드]
        • 통상관성, 타격당 관성
        • 타수: ((스킬렙+2)/4)회 타격
        • 계수: 총INT/200 (타격당)
        • 타격당 공격MP회복에 비례한 회복
      `
        },

        // ==================================================
        // 4차 스킬
        // ==================================================
        {
            id: "dragon_tooth",
            name: "드래곤 투스",
            tier: 4,
            type: "Active",
            mp_cost: 500,
            element: "Neutral",
            weapon: ["할버드"],
            description: `
        [액티브 / 할버드 사용가능]
        사거리: 12M
        관성: 물리 / 어택기반
        
        • 2타 (개별판정)
        • 계수: 7.5 × 스킬렙 × 0.75 (총합)
        • 스킬자체 크리티컬률: 65 + 스킬렙
        • 스킬자체 물리관통%: 10 × 스킬렙
        
        - 현재 자리에서 대상에게 돌진하고 되돌아간다.
        - 벽에 막혀 돌진하지 못 했다면 피해를 주지 않는다.
      `
        },
        {
            id: "chronos_drive",
            name: "크로노스 드라이브",
            tier: 4,
            type: "Active",
            mp_cost: 400,
            element: "Neutral",
            weapon: ["할버드"],
            description: `
        [액티브 / 할버드 사용가능]
        관성: 물리 / 어택기반
        
        [찌르기]
        • 계수: 1 + 스킬렙×0.5
        • 스킬상수: 스킬렙×40
        • 적중 시 대상에게 10초 동안 추가타 발동
        
        [추가타]
        • 계수: 0.4 + 스킬렙/100 + 기본INT/500
        • 스킬상수: 스킬렙×25 + 250
        • 피해를 입힐때마다 MP30씩 회복한다.
        • 추가타의 간격은 공격속도와 행동속도에 비례한다.
        • (대략 10초간 13타 발동)
      `
        },
        {
            id: "godspeed_wield",
            name: "신속의 수도",
            tier: 4,
            type: "Active",
            mp_cost: 100,
            element: "Neutral",
            weapon: ["모든무기"],
            description: `
        [버프스킬 / 모든무기 사용가능]
        최대 3중첩 가능, 피격 시 효과 사라짐
        지속시간: [10 + 2×스킬렙]초
        
        [중첩당 효과]
        - 최대 MP [100] 감소
        - 공격속도 [30×스킬렙] 상승
        - 행동속도 [스킬렙]% 상승
        - 물리/마법내성 [-100 + 스킬렙×3] 감소 (할버드+45)
      `
        },
        {
            id: "lightning_hail",
            name: "헤일 라이트닝",
            tier: 4,
            type: "Active",
            mp_cost: 200,
            element: "Neutral",
            weapon: ["할버드"],
            description: `
        [액티브 / 할버드 사용가능]
        사거리: 18M
        
        [낙뢰 - 8회 타격]
        • 관성: 마법 / 마법창 마택기반
        • 계수: 1 + 0.2(스킬렙/2) + 총INT/1000 (타격당)
        • 스킬상수: 100 + 스킬렙×10
        
        - 이 스킬은 반드시 크리티컬로 적중한다.
        - 낙뢰는 톨 해머로 연계 가능한 장판을 남긴다.
        - 행동속도의 영향을 받지 않으나 콤보 신속의 효과는 얻는다.
      `
        },

        // ==================================================
        // 5차 스킬
        // ==================================================
        {
            id: "draconic_charge",
            name: "드라고닉 차지",
            tier: 5,
            type: "Active",
            mp_cost: 300,
            element: "Neutral",
            weapon: ["할버드"],
            description: `
        [액티브 / 할버드 사용가능]
        관성: 물리
        
        - 1초마다 20씩 차징한다.
        - 차징 중 적의 공격 예고범위 내에 들어가면 즉시 100% 상승.
        - 차징%에 따라서 16M까지 돌진. (순간이동 판정)
        
        [1타 (어택 기반)]
        • 계수: (5 + 스킬렙×0.5) × (100% + 차징량%)
        • 스킬상수: 300 / 근거리 위력만 / 필중
        • 물리관통: (대상에게 돌진한 거리-1)×10
        
        [2타 (어택+마법창MATK 기반)]
        • 계수: (5 + 스킬렙×0.5) × (100% + 차징량%)
        • 스킬상수: 30×스킬렙 / 근거리 위력만
        • 범위: 전방 부채꼴 4M 90도
        • 반드시 크리티컬 히트
        
        - 상태이상 부여 확률: [스킬렙×스킬렙]% (속성에 따름)
      `
        },
        {
            id: "dimension_hustle",
            name: "디멘션 틸", // (Dimension Hustle / Teal)
            tier: 5,
            type: "Active",
            mp_cost: 200,
            element: "Neutral",
            weapon: ["할버드"],
            description: `
        [액티브 / 할버드 사용가능]
        관성: X / 어택기반
        
        • 5타 (개별타수)
        • 계수: 4 + 기본STR/500 + 기본AGI/500 (타격당)
        • 스킬상수: 스킬렙×20 (타격당)
        • 범위: 적 중심 반경6M
        
        - 섬광 부여확률: [스킬렙×8]%
        - 크로노스 드라이브 지속시간에는 추가로 MP를 회복한다.
        - MP회복량: [스킬렙/10 + 자신의 공격MP회복]
      `
        },
        {
            id: "tornado_lance",
            name: "토네이도 랜스",
            tier: 5,
            type: "Passive",
            mp_cost: 0,
            element: "Neutral",
            weapon: ["할버드"],
            description: `
        [패시브 / 할버드 사용가능]
        할버드 스킬이 명중하면 1스택씩 가산된다.
        
        - 크리티컬 데미지: [(스킬렙/5)×스택] 상승
        - 회피: [10×스킬렙]% 상승
        - 절대명중: [스킬렙×0.8×스택] 상승
        - 그레이즈 패널티 완화: [스킬렙] 상승
        - 물리추격 확률: [2.5×스택]% 상승
        
        - 피격시 현재 스택을 ÷2 한다. (반올림)
      `
        },
        {
            id: "gods_spearmanship",
            name: "신의 창솜씨",
            tier: 5,
            type: "Passive",
            mp_cost: 0,
            element: "Neutral",
            weapon: ["할버드"],
            description: `
        [패시브 / 할버드 사용가능]
        신속의 수도와 관련 된 추가스킬 사용가능
        
        - 피격 시 무적발동 (무적2초 / 쿨타임10초)
        - 확률: 10 + 2×스킬렙 + 기본AGI/3.5
        - 할버드 물리 스킬들의 데미지 증가: (스킬렙)%
        - 스택당 신속의 수도 물리, 마법내성 감소률 [스킬렙/2] 감소
        
        [신의 창솜씨 (액티브 효과)]
        사용MP: 100
        - 버전3: 신속의 수도를 즉시 3스택 얻습니다.
        - 버전2: 2스택, 버전1: 1스택
      `
        },
        {
            id: "thors_hammer",
            name: "톨 해머",
            tier: 5,
            type: "Active",
            mp_cost: 400,
            element: "Neutral",
            weapon: ["할버드"],
            description: `
        [액티브 / 할버드 사용가능]
        관성: 마법 / 마법창 마택기반
        
        [기본]
        • 계수: 10 + 0.5×스킬렙
        • 스킬상수: 400
        
        [연계 (헤일 톨 해머 8회타격)]
        • 계수: 1 + 0.2×(헤일 라이트닝lv/2) + 총INT/1000
        • 스킬상수: 100 + 10×헤일 라이트닝lv
        • 범위: 반경 1M
        • 타격당 배로 강해지는 스킬이다. (2타 2배, 3타 4배...)
        
        - 이 스킬은 반드시 크리티컬로 적중한다.
        - 스킬 사용 후 버프 획득 (지속: 12×스킬렙 초)
        - 마법추격 (10×스킬렙)%, 마법관통 (2×스킬렙)% 등
      `
        }
    ]
};