// skills_magicblade.js

const magicBladeTree = {
    id: "magic_blade",
    name: "마법전사 스킬", // (Magic Blade / Magic Warrior)
    url_param: "MagicBlade",
    description: "마도구를 보조무기로 장비하여 물리와 마법을 융합해 싸우는 하이브리드 스킬입니다. (데이터 갱신: 20241105)",
    skills: [
        // ==================================================
        // 1차 스킬
        // ==================================================
        {
            id: "magic_warrior_mastery",
            name: "마법전사의 마음가짐",
            tier: 1,
            type: "Passive",
            mp_cost: 0,
            element: "Neutral",
            weapon: ["서브 마도구"],
            description: `
        [패시브 / 서브 마도구 적용]
        
        - ATK% 상승: [스킬렙]% (한손검+5%)
        - MATK상승: [스킬렙×2 + (스킬렙/6)×(스킬렙-5)]
        - CSPD상승: [10×스킬렙]
        - CSPD%상승: [스킬렙 + (스킬렙/6)×(스킬렙-5)]%
      `
        },
        {
            id: "ether_flare",
            name: "에텔플레아",
            tier: 1,
            type: "Active",
            mp_cost: 100,
            element: "Neutral", // 서브마도구 속성 따라감
            weapon: ["서브 마도구"],
            description: `
        [액티브 / 서브 마도구 사용가능]
        사거리: 장비한 서브마도구 사거리
        관성: 마법(기본) / 물리(컨버전)
        
        • 계수: 2.5 + 총INT/100
        • 스킬상수: 50 + 스킬렙×5
        • 위력: O / 발도공X
        
        [효과]
        - 발화 부여: [70 + 3×스킬렙]%
        - 대상이 발화 상태라면 스킬상수 [50 + 5×스킬렙] 상승
        
        [발화 성공 시 버프]
        - 지속시간: 10 + 10(레지)초
        - 공격MP회복 상승: [15 + (스킬렙/6)×5 + (스킬렙/5)×5] - 15(레지)
        
        (레지 최대렙: 만능1 / 연장1)
      `
        },
        {
            id: "drain_barrier",
            name: "드레인 베리어",
            tier: 1,
            type: "Active", // 버프기
            mp_cost: 100,
            element: "Neutral",
            weapon: ["마도구"], // 메인/서브 언급 없음, 보통 서브
            description: `
        [버프기 / 마도구 사용가능]
        
        [효과]
        - 모션 중 물리, 마법 데미지를 경감시키고 경감 성공 시 MP회복
        - 경감 성공 시 인첸트 버스트 1스택 획득
        
        - 모션 중 물리내성% 증가: [9 × 스킬렙]%
        - 모션 중 마법내성% 증가: [9 × 스킬렙]%
        
        - 물리피해 경감 성공 시 10MP 회복
        - 마법피해 경감 성공 시 50MP 회복
      `
        },

        // ==================================================
        // 2차 스킬
        // ==================================================
        {
            id: "conversion",
            name: "컨버전",
            tier: 2,
            type: "Active", // 버프/패시브 스위칭
            mp_cost: 100,
            element: "Neutral",
            weapon: ["한손검", "자동활", "권갑", "대검"],
            description: `
        [스위칭 버프 / 한손검, 자동활, 권갑, 대검 + 서브마도구]
        기본 패시브 효과와 사용 시 버프 효과가 존재함.
        
        [기본 패시브]
        - 무기ATK가 MATK에도 반영된다. (MATK% 영향 X)
        - 무기공 전환률: [스킬렙^2]%
        - 기본MATK 상승: 0.1 × 스킬렙
        
        [사용 시 효과 (재사용시 전환)]
        - 지속시간: 무한 (재사용 시 OFF)
        - 마법전사 스킬에 한해 물리/마법의 특성을 반전시킨다.
        - 마택반영 <-> 어택반영
        - 안정률반영 <-> 관성
        - 치명타율, 적중판정, 크리티컬 데미지 등 반전
        - 물리 스킬은 마법 스킬로, 마법 스킬은 물리 스킬로 변화.
      `
        },
        {
            id: "elemental_slash",
            name: "엘리멘탈 슬래쉬",
            tier: 2,
            type: "Active",
            mp_cost: 200,
            element: "Element", // 약점속성
            weapon: ["서브 마도구"],
            description: `
        [액티브 / 서브 마도구 사용가능]
        사거리: 장비한 서브마도구 사거리
        관성: 마법(기본) / 물리(컨버전)
        
        • 계수: 1 + 0.5×스킬렙 + [최대치 기본STR or INT높은 기본스텟]×스킬렙×0.0008
        • 스킬상수: 50 + 스킬렙×15
        • 속성: 적의 약점속성
        • 위력: O / 발도공X
        
        [효과]
        - 쇠약 부여: [10 × 스킬렙]% (지속시간 5초)
      `
        },
        {
            id: "teleport",
            name: "텔레포트",
            tier: 2,
            type: "Active",
            mp_cost: 200,
            element: "Neutral",
            weapon: ["마도구"],
            description: `
        [이동기 / 마도구 사용가능]
        차지: 3초 (행동속도 영향X)
        
        [효과]
        - 모션 중 방향키를 누른다면 그 방향으로 8M 이동
        - [스킬렙 × 5]%의 행동속도 보정을 받는다.
      `
        },

        // ==================================================
        // 3차 스킬
        // ==================================================
        {
            id: "resonance",
            name: "레조난스",
            tier: 3,
            type: "Active", // 버프기
            mp_cost: 0,
            element: "Neutral",
            weapon: ["서브 마도구"],
            description: `
        [버프기 / 서브 마도구 사용가능]
        사용조건: MP의 최대값이 HP의 최대값보다 낮아야 함.
        
        [효과]
        - HP와 MP의 비율을 1:1로 변환시킨다.
        - 변환 후 30초간 랜덤 버프 획득 (화력/가속/집중)
        
        [버프 종류]
        1. 화력: ATK, MATK 상승 [스킬렙×2 + 마도구제련치×2]
        2. 가속: ASPD, CSPD 상승 [스킬렙×25 + 마도구제련치×50]
        3. 집중: 명중 [35 + 스킬렙×2 + 마도구제련치×3], 크리티컬 [10 + 스킬렙×2 + 마도구제련치×3]
        
        [레지스트렛 효과]
        - 화력/가속/집중 중 하나로 버프를 고정
        - 대신 효과가 (95 - 레지레벨×5)% 감소
        - (레지 최대렙: 9)
      `
        },
        {
            id: "enchant_sword",
            name: "인첸트 소드",
            tier: 3,
            type: "Active",
            mp_cost: 300,
            element: "Element", // 약점속성
            weapon: ["한손검", "대검", "권갑", "총"],
            description: `
        [액티브 / 한손검, 대검, 권갑, 총 사용가능]
        사거리: 장비한 메인무기 사거리
        관성: 물리(기본) / 마법(컨버전)
        
        • 계수: 4 + 0.6×스킬렙 + [최대치 기본STR or INT]×기본스텟적용/100 (대검+2)
        • 스킬상수: 300 + (마도구ATK × 마도구안정률/200) [최대600]
        • 속성: 적의 약점속성
        • 위력: O / 발도공X
        
        [상태별 보너스]
        - 물리 상태: 크리티컬률 보정 [스킬렙 + 마도구제련치×3] (대검: 스킬렙×10)
        - 마법 상태: 마법관통% 보정 [스킬렙 + 마도구ATK × 마도구안정률/3000]%
        
        [강화: 인첸트 버스트 소드]
        - '인첸트 버스트' 버프 상태일 경우 강화됨.
        - 한손검(2타): 계수 3.6 + 0.54×스킬렙 + 스텟보정×0.009
        - 그 외: 계수 5.6 + 0.84×스킬렙 + 스텟보정×0.014%
        - (버스트 소드 시 보정치도 강화됨)
      `
        },
        {
            id: "drain_recall",
            name: "드레인 리콜",
            tier: 3,
            type: "Passive",
            mp_cost: 0,
            element: "Neutral",
            weapon: ["서브 마도구"],
            description: `
        [패시브 / 서브 마도구 사용가능]
        
        [효과]
        - 드레인 베리어로 가드 성공 시 버프 획득 (추가 MP 회복)
        - 지속시간: [스킬렙 × 2]초
        - 회복량: 5 × 스킬렙 + 베리어로 회복한 총MP × 50% (2초당 1회 회복)
        - 회복량 상한: [스킬렙 × 5 + 150]
        
        - 지팡이는 회복량이 절반이다.
        - 한손검은 회복량이 증가하지만 상세 수치는 불명.
      `
        },

        // ==================================================
        // 4차 스킬
        // ==================================================
        {
            id: "enchant_spell",
            name: "인첸트 스펠",
            tier: 4,
            type: "Passive",
            mp_cost: 0,
            element: "Neutral",
            weapon: ["서브 마도구"],
            description: `
        [패시브(EX) / 서브 마도구 사용가능]
        특정 조건을 만족하면 지정한 매직 스킬이 자동으로 발동된다.
        발동되는 스킬은 서브마도구의 속성을 따른다. (고정속성 제외)
        
        [발동 조건 (커맨드)]
        1. 기본 공격 시
        2. MP 부족 시
        3. 피격 시
        4. 가드 시
        5. 어보이드 시
        6. 콤보 종료 시
        
        [사용 가능 스킬 목록 & 쿨타임]
        - 술식/애로(5초), 쟈베린(6초), 월(6초), 랜스(8초), 블래스트(8초), 임팩트(8초), 스톰(10초)
        - 작은 힐(8초), 리커버리(8초), 베니싱레이(10초), 엑소시즘(12초), 홀리라이트(12초)
        
        [확률]
        - 발동 확률: (10 + 스킬렙×4.5 + 서브마도구 제련치×3)%
        
        [특징]
        - 발동되는 스킬은 크로노스 시프트의 대상이 되지 않음.
        - 술식/캐논을 채우지 않음.
        - 술식/버스트 스택은 채워줌.
      `
        },
        {
            id: "enchant_burst",
            name: "인첸트 버스트",
            tier: 4,
            type: "Active",
            mp_cost: 100,
            element: "Element", // 약점속성
            weapon: ["한손검", "자동활", "권갑", "서브마도구"],
            description: `
        [액티브 / 서브마도구+메인무기 사용가능]
        관성: 마법(기본) / 물리(컨버전)
        
        [효과]
        - 사용 시 스택(최대 3개)을 소모하여 '인첸트 소드'를 '버스트 소드'로 강화하는 버프 부여
        - 버프 지속시간: [(4 + 스킬렙) × 사용스택^2]초
        
        [스택 획득 방법]
        1. 인첸트 소드 사용
        2. 인첸트 아가랄(파생기) 적중
        3. 매직 베리어(드레인 베리어) 가드 성공
        4. 듀얼브링어 상태에서 술식/버스트 적중 (한손검)
        5. 듀얼브링어 상태에서 술식/폴 적중 (한손검)
        6. 듀얼브링어 상태에서 술식/매직캐논 적중 (한손검)
        
        [공격 데미지]
        • 계수: 1×스킬렙 + 5×(1+사용스택)×사용스택/2
        • 스킬상수: 100 + 서브마도구ATK×40%×사용스택
        • 속성: 적의 약점속성
        • 위력: O / 발도공X
        
        [적중 시 디버프]
        - 쇠약 부여
        - 확률: [100 × 최대1[ -2 + 사용스택 + (스킬렙/5) ]]%
        - 지속시간: [ (-2 + 사용스택 + (스킬렙/5)) × 5 ]초
        
        [파생기: 인첸트 아가랄]
        - 계수: 10 + 0.5×스킬렙 / 상수: 100
        - 명중 시 파티원 전원이 공격 스킬 적중 시 MP회복
        - 회복량: [최대MP/20], 횟수: [스킬렙]회 (1스킬당 1회)
      `
        },
        {
            id: "float_dash",
            name: "플로트 대쉬",
            tier: 4,
            type: "Active", // 버프기
            mp_cost: 300,
            element: "Neutral",
            weapon: ["서브 마도구"],
            description: `
        [버프기 / 서브 마도구 사용가능]
        지속시간: 10초
        
        [효과]
        - 이동속도 대폭 증가: [스킬렙×10]%
        - 다음에 사용할 스킬의 MP소비를 반감시킨다.
        - 사용 중에는 평타를 사용할 수 없다.
        - 다른 스킬을 사용하면 버프가 즉시 종료된다.
        - 자신이 슬로우, 정지 상태라면 즉시 해제한다.
      `
        },

        // ==================================================
        // 5차 스킬
        // ==================================================
        {
            id: "dual_bringer",
            name: "듀얼 브링어",
            tier: 5,
            type: "Active", // 버프기
            mp_cost: 400,
            element: "Neutral",
            weapon: ["서브 마도구"],
            description: `
        [버프기 / 서브 마도구 사용가능]
        지속시간: [마도구ATK 10당 2초] (최소 10초)
        
        [효과]
        - ATK, MATK를 더 높은 쪽으로 공명시킨다.
        - 공명률: [마법전사 스킬 습득 수 × 스킬레벨]% (최대 100%)
        - 공명률은 -ATK%, -MATK% 패널티에 따라 감소된다.
        
        [특수 효과]
        - 쇠약 상태 적 공격 시 (STR>INT): 마법 크리티컬률 0.25배 상승
        - 쇠약 상태 적 공격 시 (INT>STR): 마법 크리티컬 데미지 0.25배 상승
        
        [한손검 보너스]
        - 매직 스킬의 속성을 서브마도구 속성으로 변화시킨다.
        - 술식 폴, 버스트, 캐논, 피날레 사용 시 인버(인첸트 버스트) 스택을 가산시킨다.
      `
        },
        {
            id: "union_sword",
            name: "유니온 소드",
            tier: 5,
            type: "Active",
            mp_cost: 500,
            element: "Neutral",
            weapon: ["서브 마도구"],
            description: `
        [액티브 / 서브 마도구 사용가능]
        사거리: 12M
        관성: 물리(기본) / 마법(컨버전) / 어택+마택 합산기반
        
        [효과]
        - 인첸트 버스트 버프가 있다면 30초를 깎고 선딜레이를 삭제한다.
        - 인첸트 버스트 버프 상태에서 시전 중 방향키를 적에게 향하면 "리유니온 소드" 발동
        
        [데미지]
        • 계수: 10 + 0.5×스킬렙 (ATK + MATK 합산)
        • 스킬상수: 500
        • 위력: O / 발도공X
        • 범위: 반경 6M, 직선 12M
        
        [리유니온 소드 (강화)]
        - 버프를 제거하고 발동
        - 계수: 20 + 1×스킬렙 (ATK + MATK 합산)
        - 범위: 반경 0.5M, 직선 8M
        - 물리 상태라면 반드시 크리티컬
        - 마법 상태라면 반드시 가드 관통
        - 행동속도의 영향을 받지 않음 (신속 효과 제외)
        - 트리거 소드, 퀵로더의 신속 효과를 받을 수 있다.
      `
        },
        {
            id: "magic_skin",
            name: "매직 스킨",
            tier: 5,
            type: "Passive",
            mp_cost: 0,
            element: "Neutral",
            weapon: ["서브 마도구"],
            description: `
        [패시브 / 서브 마도구 사용가능]
        마도구의 제련치가 방패처럼 제련치 데미지감소의 영향을 끼친다.
        
        [효과]
        - 물리, 마법 데미지 감소
        - 감소량: [5 × 스킬렙 × 현재MP/2000]% (소숫점 버림)
        
        - 죽음에 이르는 공격을 받을 경우 HP 1로 생존한다.
        - 확률: [스킬렙 × 10]%
        - 쿨타임: 120초
        - (레지스트렛: 악성 댓글 감지 - 내용 없음)
      `
        }
    ]
};